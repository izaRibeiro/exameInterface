<router-outlet></router-outlet>
<app-header></app-header>

<br>
<button (click) = "onNovo()" class="btn btn-info">Nova Inscrição</button>
<hr>
<section *ngIf ="novo">
    <div class="container">
    <form >

        <div class="form-group">
            <label for="exame">Identificador do Exame: </label>
            <select type="text" 
            id="exame" 
            name="exame"
            placeholder="Exame" class="form-control"
            [(ngModel)]="inscricao.exame" required> 

                <option *ngFor="let exame of exames" [ngValue]="exame.id"> {{exame.nome}}</option>
            </select>
        </div>


        <div class="form-group">
            <label for="candidato">Identificador do Candidato: </label>
            <select type="text" 
            id="candidato" 
            name="candidato"
            placeholder="Candidato" class="form-control"
            [(ngModel)]="inscricao.candidato" required> 
                <option *ngFor="let candidato of candidatos" [ngValue]="candidato.id"> {{candidato.nome}}</option>
            </select>
        </div>
        <button type="submit" class="btn btn-success"
        (click)="criar()">Cadastrar</button>


    </form>
    </div>
</section>


<h2>Listagem das Inscrições</h2>

<table class="table">
    <tr>
        <td>IdExame</td>
        <td>IdCandidato</td>
        <td>Nota</td>
    </tr>
    <tr  *ngFor="let inscricao of inscricoes">
        <td>{{inscricao.exame}}</td>
        <td>{{inscricao.candidato}}</td>
        <td>{{inscricao.nota}}</td>


            <button type="submit" class="btn btn-warning" (click)="onEdit(inscricao.exame, inscricao.candidato)">
                Atualizar Nota
            </button>

           <!-- <button type="submit" class="btn btn-danger" (click) = "remover(inscricao)">
                Remover
            </button>-->
            <button type="submit" class="btn btn-danger" (click) = "onDelete(inscricao)">
                Remover
            </button>
  
       
    </tr>
</table>


<ng-template #deleteModal>
    <div class="modal-body text-center">
      <p>Você realmente deseja excluir essa inscrição?</p>
      <button type="button" class="btn btn-default" (click) = "confirmarDelete(exame)">Sim</button>
      <button type="button" class="btn btn-primary" (click) = "negarDelete()">Não</button>
    </div>
  </ng-template>